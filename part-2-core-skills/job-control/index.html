<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-core-skills/job-control/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Job Control | Effective Shell</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://effective-shell.com/part-2-core-skills/job-control"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="ca-pub-6181461532532600"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Job Control | Effective Shell"><meta data-rh="true" name="description" content="Job control is a feature of most shells which can often be somewhat complicated to work with. However, knowing the basics can help prevent you from getting yourself into a tangle and can from time to time make certain tasks a little easier."><meta data-rh="true" property="og:description" content="Job control is a feature of most shells which can often be somewhat complicated to work with. However, knowing the basics can help prevent you from getting yourself into a tangle and can from time to time make certain tasks a little easier."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://effective-shell.com/part-2-core-skills/job-control"><link data-rh="true" rel="alternate" href="https://effective-shell.com/part-2-core-skills/job-control" hreflang="en"><link data-rh="true" rel="alternate" href="https://effective-shell.com/part-2-core-skills/job-control" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HZFMZV9Z4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8HZFMZV9Z4",{anonymize_ip:!0})</script>


<script src="https://cdn.jsdelivr.net/npm/docusaurus-plugin-drawio/viewer.min.js"></script>


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6181461532532600" async></script>
<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6181461532532600" async></script><link rel="stylesheet" href="/assets/css/styles.51892cac.css">
<link rel="preload" href="/assets/js/runtime~main.cb64f300.js" as="script">
<link rel="preload" href="/assets/js/main.846d9493.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Effective Shell Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Effective Shell Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Effective Shell</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="navbar__item navbar__link" href="/donate">Donate</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div><a href="https://github.com/dwmkerr/effective-shell/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-1-transitioning-to-the-shell/">Transitioning to the Shell</a><button aria-label="Toggle the collapsible sidebar category &#x27;Transitioning to the Shell&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/part-2-core-skill/">Core Skills</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core Skills&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/thinking-in-pipelines/">Thinking in Pipelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/fly-on-the-command-line">Fly on the Command Line</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/part-2-core-skills/job-control">Job Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/understanding-commands">Understanding Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/finding-files">Finding Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/what-is-a-shell">What is a Shell?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-3-manipulating-text/">Manipulating Text and Streams</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manipulating Text and Streams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-4-shell-scripting/">Shell Scripting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Shell Scripting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-5-building-your-toolkit/">Building Your Toolkit</a><button aria-label="Toggle the collapsible sidebar category &#x27;Building Your Toolkit&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-6-advanced-techniques/">Advanced Techniques</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced Techniques&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/xx-appendices/recommended-reading/">Appendices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zz-developer-guide/components">Developer Guide</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Job Control</h1></header><p><em>Job control</em> is a feature of most shells which can often be somewhat complicated to work with. However, knowing the basics can help prevent you from getting yourself into a tangle and can from time to time make certain tasks a little easier.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-job-control">What Is Job Control?<a class="hash-link" href="#what-is-job-control" title="Direct link to heading">​</a></h2><p>Let&#x27;s start with an example. I am building a simple web page. It has one <code>index.html</code> file, one <code>styles.css</code> file, and one <code>code.js</code> file. The <code>index.html</code> file looks like this:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">My New Project</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text/css</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">styles.css</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">code.js</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Snip... --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Opening the file in a browser doesn&#x27;t quite work, as it won&#x27;t load the code or the styles. We need a web server to serve styles and code.</p><p>A super-useful one-liner to run a web server on any machine with Python installed is:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python -m SimpleHTTPServer </span><span class="token number" style="color:#36acaa">3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In fact, this is so useful that I normally <em>alias</em> this command, so that I can just type <code>serve</code>. We&#x27;ll see aliases in a later chapter.</p><p>Make sure you have the samples folder downloaded.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Downloading the Samples</div><div class="admonitionContent_S0QG"><p>Run the following command in your shell to download the samples:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> effective.sh </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><p>Now run the following commands to open the webpage:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cd ~/effective-shell/websites/simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For now, if we run this command, then we can open the webpage in a browser, with the styles and code loaded:</p><img loading="lazy" alt="Screenshot: Website" src="/assets/images/website-screenshot-9a8faefcf54b8b8328422cca83a46c9e.png" width="600" class="img_ev3q"><p>We can also see that the server has served the HTML, JavaScript, and CSS files, this is clear from the output of the Python command we ran:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python -m SimpleHTTPServer 3000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Serving HTTP on 0.0.0.0 port 3000 ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 - - [08/Jan/2021 16:33:40] &quot;GET / HTTP/1.1&quot; 200 -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 - - [08/Jan/2021 16:33:40] &quot;GET /styles.css HTTP/1.1&quot; 200 -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 - - [08/Jan/2021 16:33:40] &quot;GET /code.js HTTP/1.1&quot; 200 -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 - - [08/Jan/2021 16:33:40] code 404, message File not found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 - - [08/Jan/2021 16:33:40] &quot;GET /favicon.ico HTTP/1.1&quot; 404 -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All well and good so far. But if you try and use the shell to do something else, you will encounter a problem, let’s take a look.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem">The Problem<a class="hash-link" href="#the-problem" title="Direct link to heading">​</a></h2><p>Let&#x27;s say we want to now continue using our shell, maybe to edit the website with a terminal editor like Vim or Emacs, or we want to zip up the site, or just run any shell command<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.</p><p>We have a problem. The <code>python</code> process is still running - it&#x27;s serving the website. Our shell is essentially useless, until we stop the server. See what happens when I try to edit a file:</p><img loading="lazy" alt="Demo: Blocked Shell" src="/assets/images/blocked-shell-206a1fc7743e30d0246b56500f4174a7.gif" width="600" class="img_ev3q"><p>In the example above, I try to run <code>vi</code>, but nothing is happening. Standard input is not being read by the server and not being interpreted by the shell.</p><p>I have to kill the server by hitting <code>Ctrl+C</code>. This sends a <code>SIGINT</code> signal (which tells the command to stop). We saw signals briefly in <a href="/part-1-transitioning-to-the-shell/become-a-clipboard-gymnast/">Chapter 4 - Becoming a Clipboard Gymnast</a> and we&#x27;ll see more of them in as we continue. Now I need to clear my screen to get rid of all of the error messages, then start again.</p><p>This is obviously not optimal. Let&#x27;s look at some solutions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="solution-1-start-the-server-in-the-background">Solution 1: Start the Server in the Background<a class="hash-link" href="#solution-1-start-the-server-in-the-background" title="Direct link to heading">​</a></h3><p>In most shells, you can run a command and instruct the shell to run it in the <em>background</em>. To do this, you end the line with an ampersand. Here&#x27;s how the example would look in this case:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python -m SimpleHTTPServer 3000 &amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1] 7025</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ Serving HTTP on 0.0.0.0 port 3000 ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By ending the command with an <code>&amp;</code> ampersand symbol, we instruct the shell to run the command as a <em>background job</em>. This means that our shell is still functional. The shell has also notified us that this command is running as a background job with a specific <em>job number</em>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python -m SimpleHTTPServer 3000 &amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1] 19372</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In slightly obtuse language, the shell has informed us that it has started a job in the background, with job number <code>1</code> and that this job is currently handling the process with ID <code>19372</code>.</p><p>The ampersand solution is a fairly common pattern used in day-to-day work. The process is in the background and our shell is available for us to use as normal, the web server will continue to run in the background.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="solution-2-move-the-server-to-the-background">Solution 2: Move the Server to the Background<a class="hash-link" href="#solution-2-move-the-server-to-the-background" title="Direct link to heading">​</a></h3><p>Let&#x27;s say you forgot to start the command in the background. Most likely in this case you&#x27;d kill the server with <code>Ctrl+C</code> and then start it again with the <code>&amp;</code> option. However, what if this was a large file download or a task you didn&#x27;t want to abort?</p><p>In the example below, we&#x27;ll move the job to the background:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python -m SimpleHTTPServer 3000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Serving HTTP on 0.0.0.0 port 3000 ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">^Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]  + 7657 suspended  python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The process is currently in the foreground, so my shell is inactive. Hitting <code>Ctrl+Z</code> sends a &#x27;suspend&#x27; signal to the process<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>, pausing it and moving it to the background.</p><p>Let&#x27;s dissect this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python -m SimpleHTTPServer 3000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Serving HTTP on 0.0.0.0 port 3000 ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 - - [03/Jun/2019 13:38:45] &quot;GET / HTTP/1.1&quot; 200 -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">^Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]  + 21268 suspended  python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The shell echos as I type, so we see <code>^Z</code> (i.e., the <code>Ctrl+Z</code> chord I entered). The shell responds by moving the process into a background job and suspending it.</p><p>The key here is that it is <em>suspended</em>. The process is paused. So the web server is no longer serving. If you are following with the sample, reload your browser. The webpage fails to load, as the server process is not able to respond to requests.</p><p>To <em>continue</em> the job, in the background, we use the <code>bg</code> (&#x27;background&#x27;) command, with a <em>job identifier</em> (which always starts with a <code>%</code> symbol - we&#x27;ll see why soon) to tell the shell to continue the job:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ bg %1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]  + 21268 continued  python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The shell lets us know the job is being continued, and if we load the webpage again, the content is shown as expected.</p><p>As a final check, we run the <code>jobs</code> command to see what jobs the shell is running:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]  + running    python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And there you have it - our server is running as a background job. This is exactly what we would see if we run <code>jobs</code> after starting the server with an <code>&amp;</code> at the end. In fact, using an <code>&amp;</code> is perhaps an easier way to remember how to continue a suspended job:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ %1 &amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]  + 21268 continued  python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the same way ending a command with <code>&amp;</code> runs it in the background, ending a job identifier with <code>&amp;</code> <em>continues</em> it in the background.</p><p>There is at least one more way to move a job to the background<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>, but I have not yet found it useful in any scenarios, and it is overly complex to explain. See the footnote for details if you are interested.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="moving-background-jobs-to-the-foreground">Moving Background Jobs to the Foreground<a class="hash-link" href="#moving-background-jobs-to-the-foreground" title="Direct link to heading">​</a></h2><p>If you have a job in the background, you can bring it back to the foreground with the <code>fg</code> (&#x27;foreground&#x27;) command. Let&#x27;s show the jobs, with the <code>jobs</code> command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]  + running    python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here I have a background job running a server. Any one of the following commands will bring it back to the foreground:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fg %1   # Explicitly bring Job 1 into the foreground</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%1      # ...or in shorthand, just enter the job id...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fg      # ...if not given an id, fg and bg assume the most recent job.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now the job is in the foreground, and you can interact with the process again however you like.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cleaning-up-jobs">Cleaning Up Jobs<a class="hash-link" href="#cleaning-up-jobs" title="Direct link to heading">​</a></h2><p>You might realise you cannot continue what you are doing because an old job is <em>still running</em>. Here&#x27;s an example:</p><img loading="lazy" alt="Demo: Cleaning Up Jobs" src="/assets/images/kill-job-19fb1d0256beee272a6c317bd29c4c2e.gif" width="600" class="img_ev3q"><p>I tried to run my web server, but there was still one running as a background job. The server failed to start because the port is in use.</p><p>To clean it up, I run the <code>jobs</code> command to list the jobs:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]  + suspended  python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There&#x27;s my old web server. Note that even though it is suspended, it&#x27;ll still be blocking the port it is serving on<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>. The process is paused, but it is still holding onto all of the resources it is using.</p><p>Now that I know the job identifier (<code>%1</code> in this case), I can kill the job:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kill %1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]  + 22843 terminated  python -m SimpleHTTPServer 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>This is why job identifiers start with a percentage sign!</em> The <code>kill</code> command I have used is not a special job control command (like <code>bg</code> or <code>fg</code>). It is the normal <code>kill</code> command, which terminates a process. But shells that support job control can normally use a job identifier in place of a <em>process identifier</em>. So rather than working out what the process identifier is that I need to kill, I can just use the job identifier<sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-you-shouldnt-use-jobs">Why You Shouldn&#x27;t Use Jobs<a class="hash-link" href="#why-you-shouldnt-use-jobs" title="Direct link to heading">​</a></h2><p>Avoid jobs. They are not intuitive to interface with and they suffer from some challenges. </p><p>The most obvious one is that all jobs write to the same output, meaning you can quickly get garbled output like this:</p><img loading="lazy" alt="Screenshot: Garbled Output" src="/assets/images/output-c59dac752d60566d856c3f01b4ef0ffb.png" width="600" class="img_ev3q"><p>This is what happens when I run a job, which just outputs text every second. It&#x27;s in the background, but it&#x27;s printing all over my commands. Even running the <code>jobs</code> command to try and find the job to stop it is difficult.</p><p>Input is even more complex. If a job is <em>running</em> in the background, but requires input, it will be <em>silently suspended</em>. This can cause confusion.</p><p>Jobs <em>can</em> be used in scripts but must be done so with caution and could easily confuse a consumer of the script if they leave background jobs hanging around, which cannot be easily cleaned up<sup id="fnref-6"><a href="#fn-6" class="footnote-ref">6</a></sup>.</p><p>Handling errors and exit codes for jobs can be problematic, causing confusion, poor error handling, or overly complex code.</p><p>If jobs should be avoided, why discuss them at all? Well sometimes you move things into the background by mistake, sometimes it <em>can</em> be useful to quickly shift a download or slow command into the background, and also if you are going to avoid something it&#x27;s good to know why! And the challenge of managing multiple units of work on a computer has been around for a long, long time, with jobs as one of the tools in the toolkit to deal with the challenge.</p><p>But given I&#x27;d suggest to avoid jobs, let&#x27;s summarise with the most key takeaways and some alternatives.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-most-key-takeaways">The Most Key Takeaways<a class="hash-link" href="#the-most-key-takeaways" title="Direct link to heading">​</a></h2><p>If there are two things to take away, they would be:</p><blockquote><p>If you have started running a command in the foreground, and you don&#x27;t want to stop it and would rather move it to the background, hit <code>Ctrl+Z</code>. Then Google &quot;job control&quot;.</p></blockquote><p>And:</p><blockquote><p>If you think there is a job running in the background, and it is messing with your screen, type <code>fg</code> to bring it to the front and kill it with <code>Ctrl+C</code>. Repeat as needed!</p></blockquote><p>In either case, if you need to do something more subtle, you can return to this reference. But the first command should allow you to get your shell back while you work out how to continue the job, and the second should kill a background job that is messing with your screen.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="alternatives-to-jobs">Alternatives to Jobs<a class="hash-link" href="#alternatives-to-jobs" title="Direct link to heading">​</a></h2><p>If you are using any kind of modern terminal such as iTerm, Terminal or the GNOME Terminal, just open a new tab or split! Much easier.</p><p>The benefit to this is that each tab gets its own standard input and output, so there&#x27;s no risk of overwriting. And of course you can hide/reveal/rearrange the tabs however you like.</p><p>The traditional alternative to a job for an operator who simply wants more than one thing going on at once would be a <em>terminal multiplexer</em>, such as <code>screen</code> or <code>tmux</code>:</p><p><img loading="lazy" alt="terminal-multiplexer" src="/assets/images/terminal-multiplexer-8708ba9a77b0dfd04fb93c617b4b755e.gif" width="827" height="421" class="img_ev3q"></p><p>Multiplexers work in a very similar way to a modern graphical terminal - they manage many shell instances. But there are some differences.</p><p>Modern terminals, such as iTerm, tend to have more intuitive GUIs and a lot of features. Multiplexers can be stateful - and manage work even when you close the shell (allowing you to &#x27;re-attach&#x27; later. We can also run them over SSH sessions to manage complex operations on remote machines. They run a client-server model, meaning many people can work with many multiplexed processes (and they can persist beyond sessions).</p><p>My personal preference is both - I use a modern terminal <em>and</em> run everything inside it in <code>tmux</code>, which is a very common multiplexer (and in some ways the spiritual successor to <code>screen</code>, an older multiplexer). We&#x27;ll look at both of these options in later chapters.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quick-reference">Quick Reference<a class="hash-link" href="#quick-reference" title="Direct link to heading">​</a></h2><p>You might find that jobs are useful, or you might find that they are not. Either way, here&#x27;s a quick reference of some common commands:</p><table><thead><tr><th>Command</th><th>Usage</th></tr></thead><tbody><tr><td><code>command &amp;</code></td><td>Run the command as a background job.</td></tr><tr><td><code>&lt;Ctrl+Z&gt;</code></td><td>Move the current process into a background job, suspended.</td></tr><tr><td><code>jobs</code></td><td>List all jobs.</td></tr><tr><td><code>fg %1</code></td><td>Move background job number 1 into the foreground.</td></tr><tr><td><code>bg %1</code></td><td>Continue background job number 1.</td></tr><tr><td><code>kill %1</code></td><td>Terminate job number 1.</td></tr><tr><td><code>wait %1</code></td><td>Block until job number 1 exits.</td></tr></tbody></table><p>If you want to find out more about the gory details of jobs, the best place to start is the <a href="https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Job-Control" target="_blank" rel="noopener noreferrer">Bash Manual - Job Control Section</a>, or the &#x27;Job Control&#x27; section of your preferred shell&#x27;s manual. On Bash you can find this by using <code>man bash</code> and searching for the text <code>JOB CONTROL</code>. You can find out more about how to get help in <a href="/part-1-transitioning-to-the-shell/getting-help">Chapter 5 - Getting Help</a></p><div class="footnotes"><hr><ol><li id="fn-1">If you are not a heavy shell user, this might seem unlikely. But if you do a lot of work in shells, such as sysadmin, devops, or do your coding from a terminal, this happens all the time!<a href="#fnref-1" class="footnote-backref">↩</a></li><li id="fn-2">Technically, <code>SIGTSTP</code> signal - which is &#x27;TTY stop&#x27;. If you have always wondered about the &#x27;TTY&#x27; acronym, check the chapter, <a href="/part-2-core-skills/understanding-commands">Interlude: Understanding the Shell</a>.<a href="#fnref-2" class="footnote-backref">↩</a></li><li id="fn-3">The alternative method is to use <code>Ctrl+Y</code>, which will send a <em>delayed interrupt</em>, which will continue to run the process until it tries to read from <code>stdin</code>. At this point, the job is suspended and the control given to the shell. The operator can then use <code>bg</code> or <code>kill</code> or <code>fg</code> to either move to the background, stop the process, or keep in the foreground as preferred. See: <a href="https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Job-Control" target="_blank" rel="noopener noreferrer">https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Job-Control</a><a href="#fnref-3" class="footnote-backref">↩</a></li><li id="fn-4">Another super-useful snippet: <code>lsof -i -P -n | grep 8000</code> to find any process that has a given port open. Another one for the aliases chapter!<a href="#fnref-4" class="footnote-backref">↩</a></li><li id="fn-5">There are times this is needed. If a job runs <em>many processes</em> - for example, by running a pipeline - the process identifier will change as the command moves from one stage of the pipeline to the next. The job identifier will remain constant. Remember, a job is a shell <em>command</em>, so could run many processes.<a href="#fnref-5" class="footnote-backref">↩</a></li><li id="fn-6">To see how bad this can be, create a script that starts jobs, then run it. Then run the <code>jobs</code> command to see what is running. The output might surprise you!<a href="#fnref-6" class="footnote-backref">↩</a></li></ol></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dwmkerr/effective-shell/edit/main/docs/02-core-skills/09-job-control/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/part-2-core-skills/fly-on-the-command-line"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Fly on the Command Line</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/part-2-core-skills/understanding-commands"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Understanding Commands</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-job-control" class="table-of-contents__link toc-highlight">What Is Job Control?</a></li><li><a href="#the-problem" class="table-of-contents__link toc-highlight">The Problem</a><ul><li><a href="#solution-1-start-the-server-in-the-background" class="table-of-contents__link toc-highlight">Solution 1: Start the Server in the Background</a></li><li><a href="#solution-2-move-the-server-to-the-background" class="table-of-contents__link toc-highlight">Solution 2: Move the Server to the Background</a></li></ul></li><li><a href="#moving-background-jobs-to-the-foreground" class="table-of-contents__link toc-highlight">Moving Background Jobs to the Foreground</a></li><li><a href="#cleaning-up-jobs" class="table-of-contents__link toc-highlight">Cleaning Up Jobs</a></li><li><a href="#why-you-shouldnt-use-jobs" class="table-of-contents__link toc-highlight">Why You Shouldn&#39;t Use Jobs</a></li><li><a href="#the-most-key-takeaways" class="table-of-contents__link toc-highlight">The Most Key Takeaways</a></li><li><a href="#alternatives-to-jobs" class="table-of-contents__link toc-highlight">Alternatives to Jobs</a></li><li><a href="#quick-reference" class="table-of-contents__link toc-highlight">Quick Reference</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Effective Shell</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/donate">Donate</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/dwmkerr/effective-shell" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dwmkerr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Effective Shell v0.30.1. Copyright © 2024 Dave Kerr. Website built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cb64f300.js"></script>
<script src="/assets/js/main.846d9493.js"></script>
</body>
</html>