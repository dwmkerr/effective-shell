<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-building-your-toolkit/controlling-changes-with-git/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Controlling Changes with Git | Effective Shell</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://effective-shell.com/part-5-building-your-toolkit/controlling-changes-with-git"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="ca-pub-6181461532532600"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Controlling Changes with Git | Effective Shell"><meta data-rh="true" name="description" content="Git is an extremely popular version control tool. You can use Git to track changes to text, code, or any type of files you might be working with. Many popular projects use Git as a tool to manage changes, allow others to contribute and collaborate, and to publish their projects."><meta data-rh="true" property="og:description" content="Git is an extremely popular version control tool. You can use Git to track changes to text, code, or any type of files you might be working with. Many popular projects use Git as a tool to manage changes, allow others to contribute and collaborate, and to publish their projects."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://effective-shell.com/part-5-building-your-toolkit/controlling-changes-with-git"><link data-rh="true" rel="alternate" href="https://effective-shell.com/part-5-building-your-toolkit/controlling-changes-with-git" hreflang="en"><link data-rh="true" rel="alternate" href="https://effective-shell.com/part-5-building-your-toolkit/controlling-changes-with-git" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HZFMZV9Z4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8HZFMZV9Z4",{anonymize_ip:!0})</script>


<script src="https://cdn.jsdelivr.net/npm/docusaurus-plugin-drawio/viewer.min.js"></script>


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6181461532532600" async></script>
<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6181461532532600" async></script><link rel="stylesheet" href="/assets/css/styles.48f2a3b2.css">
<link rel="preload" href="/assets/js/runtime~main.56e132cf.js" as="script">
<link rel="preload" href="/assets/js/main.e1868e6f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Effective Shell Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Effective Shell Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Effective Shell</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/shell-snippets/">Snippets</a></div><div class="navbar__items navbar__items--right"><a href="https://amzn.to/4ho0F91" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Effective Shell on Amazon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/dwmkerr/terminal-ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Terminal AI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://hacker-laws.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Hacker Laws<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/sponsors/dwmkerr?frequency=one-time&amp;sponsor=dwmkerr" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Grab me a Coffee!<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div><a href="https://github.com/dwmkerr/effective-shell/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-1-transitioning-to-the-shell/">Transitioning to the Shell</a><button aria-label="Toggle the collapsible sidebar category &#x27;Transitioning to the Shell&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-2-core-skill/">Core Skills</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core Skills&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-3-manipulating-text/">Manipulating Text and Streams</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manipulating Text and Streams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-4-shell-scripting/">Shell Scripting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Shell Scripting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/part-5-building-your-toolkit/">Building Your Toolkit</a><button aria-label="Toggle the collapsible sidebar category &#x27;Building Your Toolkit&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-5-building-your-toolkit/configuring-the-shell">Configuring the Shell</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-5-building-your-toolkit/customising-your-command-prompt">Customising Your Command Prompt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-5-building-your-toolkit/managing-your-dotfiles">Managing your Dotfiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/part-5-building-your-toolkit/controlling-changes-with-git">Controlling Changes with Git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-5-building-your-toolkit/managing-rempte-git-repositories/">Managing Remote Git Repositories and Sharing Your Dotfiles</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-6-advanced-techniques/">Advanced Techniques</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced Techniques&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/shell-snippets/">Shell Snippets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><div style="text-align: center; width: 100%;"><a href="https://amzn.to/4ho0F91" target="_blank"><img alt="Effective Shell" src="/images/es-amazon.png" style="max-width:140px;"></a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Controlling Changes with Git</h1></header><p>Git is an extremely popular version control tool. You can use Git to track changes to text, code, or any type of files you might be working with. Many popular projects use Git as a tool to manage changes, allow others to contribute and collaborate, and to publish their projects.</p><p>In this chapter we&#x27;ll look at the most common operations for Git to allow us to quickly and easily work with Git repositories. We&#x27;ll learn Git on the command line by taking our &#x27;dotfiles&#x27; folder (a simple set of shell configuration files) and showing how we can track and manage changes.</p><p>Being able to use Git from the command line is essential to being an effective shell user. In this chapter we&#x27;ll look at setting up a local Git repository - in the next chapter we&#x27;ll see how to share it online with the popular GitHub website.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-git">What is Git<a class="hash-link" href="#what-is-git" title="Direct link to heading">​</a></h2><p>Any files or folders that we work with over time, such as our &#x27;dotfiles&#x27; (i.e. our personal configuration files) will change. Sometimes new files get added, old files get deleted, files get changed, things get moved around and so on.</p><p>Git is a <em>version control system</em> that allows you to track changes to files and folders. This means that you can maintain a history of all of the changes that have been made, when they were made, who made them and why. You can also maintain multiple &#x27;branches&#x27; of your files and folders - these branches can be used as working environments where you can make changes, without affecting the current &#x27;main&#x27; set of files.</p><p>Git was written by Linus Torvalds (the creator of Linux) in 2006. &quot;Git&quot; is slang for an annoying person - Linus joked that he always names projects after himself, first Linux and now Git. There were many version control systems around before Git, such as <em>CVS</em> (Concurrent Version System) and <em>SVN</em> (Subversion, an system similar to CVS but with some improvements). There were also a number of proprietary and commercial solutions.</p><p>In recent years Git has become without a doubt the most popular version control system globally, and many highly popular software collaboration systems such as GitHub, GitLab and BitBucket use Git as their underlying version control system, adding additional features on top.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-git-repository">Creating a Git Repository<a class="hash-link" href="#creating-a-git-repository" title="Direct link to heading">​</a></h2><p>All of the information about a set of files or folders that you are tracking the changes for is stored in a <em>Git repository</em>. We can create a Git repository by running the <code>git init</code> (<em>initialise Git repository</em>)<!-- --> command.</p><p>Let&#x27;s see this in action be creating a Git repository to track changes to our &#x27;dotfiles&#x27; folder. Our &#x27;dotfiles&#x27; folder is a folder where we keep simple shell configuration - you can read about how to create a folder like this in <a href="/part-5-building-your-toolkit/managing-your-dotfiles">Chapter 27 - Managing Your Dotfiles</a> or you can download the Effective Shell samples to get a copy of the &#x27;dotfiles&#x27; folder.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Downloading the Samples</div><div class="admonitionContent_S0QG"><p>Run the following command in your shell to download the samples:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> effective.sh </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><p>If you have installed the samples, you can copy the <em>~/effective-shell/dotfiles</em> folder to your home directory - this is where we will create our Git repository and start using the Git commands:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cp -r ~/effective-shell/dotfiles ~/dotfiles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd ~/dotfiles</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We have created the <em>~/dotfiles</em> folder in our home directory from the samples and moved into it.</p><p>Now we will initialise a Git repository with the <code>git init</code> command, and choose a &#x27;branch&#x27; name with the <code>git checkout</code> command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Initialized empty Git repository in /home/dwmkerr/dotfiles/.git/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout -b main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;ll see the <code>git checkout</code> command in detail soon. For now it is enough to know that we have initialised a new Git repository and chosen the name of our &#x27;main&#x27; branch.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Initialising a Git Repository with a Branch Name</div><div class="admonitionContent_S0QG"><p>If you are using Git 2.2 or later, you can initialise a repository and set the branch name with a single command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> init -b main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you see the error message <em>error: unknown switch &#x27;b&#x27;</em> then this means that you are using a version of Git that does not have the <code>-b</code> (<em>initial branch name</em>) flag (any version of Git lower than 2.2).</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-and-resetting-changes-to-the-index">Adding and Resetting Changes to the Index<a class="hash-link" href="#adding-and-resetting-changes-to-the-index" title="Direct link to heading">​</a></h2><p>We now have an empty Git repository. We can use the <code>git status</code> (<em>show the working tree status</em>) command<!-- --> to show some information on the files in the <em>working tree</em>. The working tree is the folder that we are using Git to track changes for, in our case <em>~/dotfiles</em>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No commits yet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Untracked files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shell.d/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shell.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first thing that <code>git status</code> tells us is the name of the <em>branch</em> we are on. We&#x27;ll look at branches in detail shortly. The next thing we see is that there are no <em>commits</em> - commits are sets of changes that we track. Finally, git is telling us that there are three files that are &#x27;untracked&#x27;. These are the <em>install.sh</em> and <em>shell.sh</em> files as well as the <em>shell.d</em> folder.</p><p>If we are going to use Git to track changes to these files, we need to add them to the repository. We can do that with the <em>git add</em> (<em>add file contents to index</em>) command<!-- -->:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git add .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>git add</code> command takes a list of file paths. We have used the special <em>dot</em> folder to represent the entire current directory. Let&#x27;s take a look at the status again:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No commits yet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes to be committed:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new file:   install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new file:   shell.d/set_ps1.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new file:   shell.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Git is now telling us that we have three new files which are ready to be <em>committed</em>. At the moment these files are in the <em>index</em>. The index, or staging area, is the set of changes that we are preparing to commit. These changes are not yet stored in the repository. When we add files to the index we are &#x27;staging&#x27; changes. When we remove changes from the index, we are &#x27;unstaging&#x27; changes.</p><p>Think of the index as a working area where we can build up a set of changes that we would later like to record in the repository. We could add more files to the index before we actually save them to the repository in a commit.</p><p>If we were to visualise what we&#x27;ve done so far, it would look like this:</p><p><img loading="lazy" alt="Diagram: A diagram showing how the &amp;#39;git add&amp;#39; command tells Git to track changes to items in the working tree and adds them to the index" src="/assets/images/git-add-273352897de39c41175ab1570deba674.png" width="1672" height="1046" class="img_ev3q"></p><p>Our <em>working tree</em> is the folder associated with our Git repository, this is the <em>~/dotfiles</em> folder. Our <em>index</em> is initially empty. When we run the <code>git add</code> command, we have told Git we want to add three files to the repository. Our &#x27;staging area&#x27; has three files in it. Our Git repository does not have any commits recorded yet.</p><p>What if we realised that we don&#x27;t want to add one of these files to the repository? To remove a file from the index we can use the <code>git reset</code> (<em>reset changes</em>) command. Let&#x27;s reset the <em>~/dotfiles/shell.d/set_ps1.sh</em> file and check the status:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git reset shell.d/set_ps1.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No commits yet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes to be committed:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new file:   install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new file:   shell.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Untracked files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shell.d/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>git reset</code> command has removed a change from the index - telling Git that we don&#x27;t want to &#x27;stage&#x27; one of the files. Git now tells us there are two files in the index and one that is not tracked.</p><p>Here&#x27;s how we can visualise the changes we&#x27;ve made:</p><p><img loading="lazy" alt="Diagram: The &amp;#39;git reset&amp;#39; command removes items from the index" src="/assets/images/git-reset-ff25fe1fd1489ef9f82cf1b0cc5e7e73.png" width="2060" height="968" class="img_ev3q"></p><p>You can also reset changes by using the <code>git rm --cached</code> (<em>remove changes from index</em>) command. However, I think this is a little harder to work with as you have to remember to use the <code>--cached</code> flag to tell Git that you are removing from the index and not the repository. We&#x27;ll see the <code>git rm</code> command a little later in the chapter.</p><p>Remember - at this stage we have not changed a single file! Nothing we have done has changed the content of any of the files in the working tree, and the only thing that has changed in the Git repository is the &#x27;index&#x27; - the current set of files that we are &#x27;staging&#x27;.</p><p>Now let&#x27;s look at how we can commit our changes with the <code>git commit</code> command.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="committing-changes">Committing Changes<a class="hash-link" href="#committing-changes" title="Direct link to heading">​</a></h2><p>Once we are happy with the set of changes in the index, we can use the <code>git commit</code> (<em>record changes to the repository</em>) command<!-- -->.</p><p>Now run the <code>git commit</code> command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this stage your shell editor will open up, with the text shown below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Please enter the commit message for your changes. Lines staring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># with &#x27;#&#x27; will be ignored, and an empty message aborts the commit.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Initial commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Changes to be committed:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#       new file:   install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#       new file:   shell.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Untracked files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#       shell.d/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The reason you shell editor opens is that the <code>git commit</code> command would like you to provide a message describing your changes. Type a short description, such as:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">add the &#x27;install&#x27; and &#x27;shell&#x27; scripts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Please enter the commit message for your changes. Lines staring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># with &#x27;#&#x27; will be ignored, and an empty message aborts the commit.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Initial commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Changes to be committed:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#       new file:   install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#       new file:   shell.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Untracked files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#       shell.d/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that below the cursor there is some information that starts with the <code>#</code> hash symbol. This is provided as a convenience - Git is telling you the status of the index. Anything that starts with a hash symbol is a comment and will not be stored in the commit message.</p><p>Save the file by pressing Ctrl+W and close the editor with Ctrl+X (these are the commands for the <code>nano</code> editor, if you are using a different editor use whatever commands are needed to save and close).</p><p>When the editor closes you&#x27;ll see a confirmation below the <code>git commit</code> command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[main (root-commit) 01e7a10] add the &#x27;install&#x27; and &#x27;shell&#x27; scripts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2 files changed, 90 insertions(+)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode 100755 install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode 100644 shell.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This message tells us that two files have changed and 90 lines have been added. It also lists the files we have added. At this point we have created our first commit. We can visualise the process we have gone through like this:</p><p><img loading="lazy" alt="Diagram showing how &amp;#39;git commit&amp;#39; commits changes to the repository" src="/assets/images/git-commit-910cd46c3ad343660e47a0b60cd70934.png" width="2116" height="1030" class="img_ev3q"></p><p>We &#x27;staged&#x27; a set of changes and then &#x27;committed&#x27; these changes. We now have a single commit in our repository. Our files are <em>still</em> unchanged, but our Git repository now has a single commit in it that tracks the two files we added.</p><p>Let&#x27;s run <code>git status</code> again:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Untracked files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shell.d/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>git status</code> command tells us we&#x27;re still on the &#x27;main&#x27; branch, and that there is one file which is not tracked. Let&#x27;s create a second commit by adding this file. When you run the <code>git commit</code> command below, enter a message to describe the commit:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[main d7e1bb9] add the &#x27;shell.d&#x27; folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 file changed, 228 insertions(+)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode 100644 shell.d/set_ps1.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We have now created a second commit - our timeline will look like this:</p><p><img loading="lazy" alt="Diagram showing our second git commit" src="/assets/images/git-commit-number-2-9dba4c3b9c31e2268ea9ecbbfb1ed196.png" width="2582" height="1022" class="img_ev3q"></p><p>If we run the <code>git status</code> command one last time we will see that everything in the working tree is tracked in Git:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nothing to commit, working tree clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The concepts of the &#x27;index&#x27;, the &#x27;working tree&#x27; and the Git repository itself can take a bit of getting used to! If you have not used Git before and this seems like a lot to take on board, don&#x27;t worry, people often find Git quite hard at first. As you use it more this will all become familiar and make more sense.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="commit-messages">Commit Messages<a class="hash-link" href="#commit-messages" title="Direct link to heading">​</a></h3><p>You can use any text you like for a commit message. However, there are a couple of things that you should bear in mind:</p><ol><li>Try to keep the first line to 50 characters or less. This is known as the &#x27;subject&#x27; line - keeping this short will make it easier to look through the log of changes later and see what each commit means.</li><li>If you want to add more detail, leave a blank line after the subject line and then include as much text as you like. Common convention is to wrap the text at 80 characters so that it will fit in a typical shell window.</li></ol><p>There are many articles available online that suggest conventions for how to write your commit messages. You can explore these as you get more familiar with Git. The only convention I would strongly recommend that you follow is to make sure that your Git message makes sense - it should describe what the change is and ideally why you have made it. It is easy to forget why changes were made after time has passed - writing good commit messages will save you a lot of time in the long run and also make it easier for others to work with your repository!</p><p>Now let&#x27;s take a look at how we can work on changes to our files with <em>branches</em>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-branches">Creating Branches<a class="hash-link" href="#creating-branches" title="Direct link to heading">​</a></h2><p>The commits that we have made so far have been on a &#x27;branch&#x27; named &#x27;main&#x27;. We can create new &#x27;branches&#x27; and put commits on them to allow us to make a series of changes that are isolated from each other.</p><p>We can create branches using the <code>git branch</code> (<em>list, create or delete branches</em>) or <code>git checkout</code> (<em>switch branches or restore working tree</em>) command<!-- -->. To show these features in action, we&#x27;ll create a new branch called <em>aliases</em> and add some files to it:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout -b aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Switched to a new branch &#x27;aliases&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nothing to commit, working tree clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We have used the <code>git checkout</code> command to &#x27;switch&#x27; to another branch. The <code>-b</code> (<em>new branch</em>) option tells Git that we want to create a new branch. The <code>git status</code> command now shows the new branch name when we run it.</p><p>Let&#x27;s create a new file which includes an alias for the <code>git status</code> command, then let&#x27;s see what <code>git status</code> tells us about the status of the working tree:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ echo &#x27;alias gs=&quot;git status&quot;&#x27; &gt;&gt; ./shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Untracked files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Excellent - we have a new file and Git knows that it is not currently tracked. Let&#x27;s stage this file and then commit it:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit -m &quot;add alias &#x27;gs&#x27; for &#x27;git status&#x27;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[aliases f61369d] add alias &#x27;gs&#x27; for &#x27;git status&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 file changed, 1 insertion(+)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode 100644 shell.d/git_aliases.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the example above I used the <code>-m</code> (<em>commit message</em>) parameter for the <code>git commit</code> command, this means my editor will not open up as we&#x27;ve already provided a commit message.</p><p>We now have a series of commits that looks like this:</p><p><img loading="lazy" alt="Diagram showing how &amp;#39;git checkout -b&amp;#39; creates a new branch" src="/assets/images/git-checkout-b-6475f62943d9c57369f6e44991d92efe.png" width="2136" height="560" class="img_ev3q"></p><p>Our new <em>~/dotfiles/shell.d/git_aliases.sh</em> file has been committed to the <em>aliases</em> branch.</p><p>We can switch back to the <em>main</em> branch at any time with <code>git checkout</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Switched to branch &#x27;main&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ tree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── shell.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── set_ps1.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── shell.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When we switch back to the <em>main</em> branch and look at our working tree we can see that the <em>git_aliases.sh</em> file is not present. This is very cool - by passing the name of the branch we want to switch to as the parameter to the <code>git checkout</code> command we can switch branches. If we are on the <em>main</em> branch we don&#x27;t see the <em>git_aliases.sh</em> file, because the commit that added is was not on the <em>main</em> branch. To go back to the <em>aliases</em> branch we can just checkout again:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Switched to branch &#x27;aliases&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ tree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── shell.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── set_ps1.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── shell.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As a nice little tip, you can always go back to the <em>last</em> branch you were on by running <code>git checkout -</code> just like you can use <code>cd -</code> to change to the last directory you visited! The dash character is a shortcut for the last branch you were on.</p><p>Let&#x27;s add another alias to the file and create another commit:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ echo &#x27;alias gcm=&quot;git checkout main&quot;&#x27; &gt;&gt; ./shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit -m &quot;add alias &#x27;gcm&#x27; for &#x27;git checkout main&#x27;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[aliases b9ae0ad] add alias &#x27;gcm&#x27; for &#x27;git checkout main&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 file changed, 1 insertion(+)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Our branches will now look like this:</p><p><img loading="lazy" alt="Diagram showing two commits on the &amp;#39;aliases&amp;#39; branch" src="/assets/images/git-commit-on-aliases-84e8cf5ab03a662ab391896ba9438b7f.png" width="2140" height="552" class="img_ev3q"></p><p>You can create as many branches as you like - just remember that when you run <code>git checkout -b</code>, you branch from the <em>current</em> branch (and in fact, the current <em>HEAD</em>, which we will see a little later).</p><p>If you want to create a branch, but don&#x27;t want to switch to it, you can run <code>git branch &lt;new_branch_name&gt;</code>. This command will create a branch from your current position, but will not move to it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="merging">Merging<a class="hash-link" href="#merging" title="Direct link to heading">​</a></h2><p>You can use the <code>git merge</code> (<em>join two or more branches</em>) command<!-- --> to take the changes from one branch and bring them into another.</p><p>We can merge the changes from our <em>aliases</em> branch into the <em>main</em> branch of the repository by first checking out the branch we want to merge into, and then running <code>git merge</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git merge aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Updating d7e1bb9..b9ae0ad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fast-forward</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> shell.d/git_aliases.sh | 2 ++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 file changed, 2 insertions(+)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode 100644 shell.d/git_aliases.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When we run the <code>git merge</code> command Git tells us what <em>type</em> of merge it has performed. In this case we have a <em>fast forward</em> <!-- -->merge, which is the most simple type of merge. When Git tries to merge the two branches, it sees that each of the commits on the <em>aliases</em> branch can be applied sequentially to the <em>main</em> branch:</p><p><img loading="lazy" alt="Diagram showing how Git prepares for a &amp;#39;fast forwards&amp;#39; merge" src="/assets/images/git-merge-prepare-fast-forwards-62b89b1712bd04787afe47b3c955bc96.png" width="2210" height="492" class="img_ev3q"></p><p>One the merge is complete, our branches look like this:</p><p><img loading="lazy" alt="Diagram showing a fast forward merge result" src="/assets/images/git-merge-fast-forwards-9cea41f3cdc7252424a0d46eb8aae96e.png" width="2120" height="364" class="img_ev3q"></p><p>The <em>main</em> branch and <em>aliases</em> branch contain the exact same set of commits.</p><p>Let&#x27;s look at a more common merge scenario - merging branches that have diverged.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="merging-diverged-branches">Merging Diverged Branches<a class="hash-link" href="#merging-diverged-branches" title="Direct link to heading">​</a></h3><p>Let&#x27;s create set of commits that show a case where we our branches have <em>diverged</em> - the branches both have their own new commits:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create a branch called &#x27;more_aliases&#x27;, add a file to it, then commit.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout -b more_aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">touch</span><span class="token plain"> ./shell.d/bash_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;add a file to store &#x27;bash&#x27; aliases&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create another file, add it, then commit.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">touch</span><span class="token plain"> ./shell.d/zsh_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;add a file to store &#x27;zsh&#x27; aliases&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This snippet checks out a new branch called <em>more_aliases</em> and adds two new empty files, as two separate commits. Now we&#x27;ll go back to our <em>main</em> branch and change a file:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Go back to the &#x27;main&#x27; branch, add and commit another file.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;alias gm=&quot;git merge&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ./shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -a -m </span><span class="token string" style="color:#e3116c">&quot;add the &#x27;gm&#x27; alias for &#x27;git merge&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>I have added a new alias to the <em>shell.d/git_aliases.sh</em> file. By adding the <code>-a</code> (<em>all changes</em>) flag to the <code>git commit</code> command I was able to add the changes to the index and commit them with a single command.</p><p>Our branches now look like this:</p><p><img loading="lazy" alt="A diagram showing two diverged branches" src="/assets/images/git-diverged-branches-d7921427ff846f43f168d004001862fb.png" width="2136" height="548" class="img_ev3q"></p><p>Let&#x27;s merge the <em>more_aliases</em> branch into the <em>main</em> branch:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git merge more_aliases</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this point your shell editor will open up with a request for a commit message:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Merge branch &#x27;more_aliases&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Please enter a commit message to explain why this merge is needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># especially if it merges an updated upstream into a topic branch.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Lines starting with &#x27;#&#x27; will be ignored, and an empty message will abort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the commit.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Git is going to create a new commit on the <em>main</em> branch that brings in the changes from the <em>bash_aliases</em> branch. Because a new commit is going to be created, Git asks us to provide a message. The default message simply explains that this commit merges the branch named <em>more_aliases</em>.</p><p>You can change the message or leave it as is. Save the file when you have entered the message and the output below will be shown:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git merge more_aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Merge made by the &#x27;recursive&#x27; strategy.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> shell.d/bash_aliases.sh | 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> shell.d/zsh_aliases.sh  | 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2 files changed, 0 insertions(+), 0 deletions(-)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode 100644 shell.d/bash_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode 100644 shell.d/zsh_aliases.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Git now tells us that we have made a <em>recursive</em> merge and our branches will look like this:</p><p><img loading="lazy" alt="Diagram showing the results of a recursive merge of two diverged branches" src="/assets/images/git-merge-recursive-e40ed73171c316ca6754a895d84beb07.png" width="2352" height="502" class="img_ev3q"></p><p>At this stage both the <em>main</em> branch and the <em>more_aliases</em> branch have the full set of changes that we made to <em>both</em> of the branches. Git merged the two branches together and created a new commit that joins them.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-git-log">The Git Log<a class="hash-link" href="#the-git-log" title="Direct link to heading">​</a></h3><p>In the diagrams we&#x27;ve shown we&#x27;ve given each commit a number. This was just to make things easier to read - Git doesn&#x27;t use a number for commits. Git uses a <em>SHA</em>, which is a hash. A hash is a sequence of letters and numbers that uniquely identify each commit.</p><p>You can use the <code>git log</code> (<em>show commit logs</em>) command<!-- --> to see the log of commits and their SHAs:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit 138b40418d5658bc64421e7bcf2680c8339f8350 (HEAD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Merge: a95bd90 a51ae1a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: Dave Kerr &lt;dwmkerr@gmail.com&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun 15 21:00:28 2021 +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Merge branch &#x27;more_aliases&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit a95bd90e3656b2e55b8708193d387c80c282a6ad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: Dave Kerr &lt;dwmkerr@gmail.com&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun 15 21:00:22 2021 +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add the &#x27;gm&#x27; alias for &#x27;git merge&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit a51ae1aa42432c2f391ca782c1c20b3793c232ab (more_aliases)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Author: Dave Kerr &lt;dwmkerr@gmail.com&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date:   Tue Jun 15 20:53:01 2021 +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add a file to store &#x27;zsh&#x27; aliases</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can see that the log shows each of the commits, the branch the commit was on, the message, the date and so on.</p><p>If you want to see a more compact log you can use the <code>--oneline</code> (<em>show one line per commit</em>) flag:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git log --oneline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">138b404 (HEAD) Merge branch &#x27;more_aliases&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a95bd90 add the &#x27;gm&#x27; alias for &#x27;git merge&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a51ae1a (more_aliases) add a file to store &#x27;zsh&#x27; aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">63ea74f add a file to store &#x27;bash&#x27; aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b9ae0ad (aliases) add alias &#x27;gcm&#x27; for &#x27;git checkout main&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f61369d add alias &#x27;gs&#x27; for &#x27;git status&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d7e1bb9 add the &#x27;shell.d&#x27; folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">01e7a10 add the &#x27;install&#x27; and &#x27;shell&#x27; scripts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you run this command yourself it will be a little easier to read as the output uses different colours for the SHAs and the branch names.</p><p>We can even see a &#x27;graph&#x27; view, showing the branches we have made and when they branched off and were merged back. To do this, pass the <code>--graph</code> (<em>show commit graph</em>) flag:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git log --oneline --graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*   138b404 (HEAD) Merge branch &#x27;more_aliases&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * a51ae1a (more_aliases) add a file to store &#x27;zsh&#x27; aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * 63ea74f add a file to store &#x27;bash&#x27; aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* | a95bd90 add the &#x27;gm&#x27; alias for &#x27;git merge&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* b9ae0ad (aliases) add alias &#x27;gcm&#x27; for &#x27;git checkout main&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* f61369d add alias &#x27;gs&#x27; for &#x27;git status&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* d7e1bb9 add the &#x27;shell.d&#x27; folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 01e7a10 add the &#x27;install&#x27; and &#x27;shell&#x27; scripts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Each commit is shown with an <code>*</code> asterisk symbol - we can also see when we created the <em>more_aliases</em> branch and when we merged it back in.</p><p>The Git log is very useful to help you understand the changes that have happened in the repository.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="merge-conflicts">Merge Conflicts<a class="hash-link" href="#merge-conflicts" title="Direct link to heading">​</a></h3><p>One of the most important features of any version control system is the ability to manage <em>conflicts</em>. Conflicts occur when a set of changes are made that cannot be merged without some kind of manual intervention to decide <em>which</em> of the changes are correct.</p><p>Here are a few common scenarios that might lead to merge conflicts:</p><ul><li>In one branch a file is deleted and in another branch the file is changed - when we merge should we delete the file or keep the version with the changes?</li><li>In one branch a file is edited and in another branch the <em>same</em> part of the file is edited in a different way - which edit should we keep? Should we keep both?</li><li>In one branch we add content to the end of a file and in another branch we add different content - which of these changes should come first?</li></ul><p>A lot of the time you can avoid conflicts by making sure that you don&#x27;t keep branches for too long - if other people are merging changes into the <em>main</em> branch while you are working on another branch, you are <em>drifting</em> from the main branch. You should either regularly update your branch with the changes in <em>main</em> or merge your changes into <em>main</em>.</p><p>There are many different ways for version control systems to manage conflicts. Let&#x27;s see how Git does it by creating a conflict.</p><p>First, we will create a branch that adds a new alias to the <em>git_aliases.sh</em> file:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create a &#x27;glog_alias&#x27; branch and commit a file.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout -b glog_alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;alias glog=&quot;git log --graph --oneline&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ./shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -a -m </span><span class="token string" style="color:#e3116c">&quot;add the &#x27;glog&#x27; alias&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we&#x27;ll go back to the <em>main</em> branch and add another alias:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Go back to &#x27;main&#x27; and commit a change to the same file as the last one.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;alias glog=&quot;git log&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> ./shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -a -m </span><span class="token string" style="color:#e3116c">&quot;add the &#x27;glog&#x27; alias&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;ve changed the same file in two branches - if we try to merge we will get a conflict:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git merge glog_alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Auto-merging shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFLICT (content): Merge conflict in shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Automatic merge failed; fix conflicts and then commit the result.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When Git cannot automatically consolidate the changes into a single merge commit, it aborts the merge process. No new commits have been made - the conflicted files with their changes are in the <em>index</em>. We have to now manually fix these files.</p><p>Let&#x27;s see what the status shows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You have unmerged paths.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (fix conflicts and run &quot;git commit&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git merge --abort&quot; to abort the merge)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Unmerged paths:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        both modified:   shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Git is telling us that we are currently in the process of trying to fix a merge conflict. It is telling us that we need to fix the <em>shell.d/git_aliases.sh</em> file, then use <code>git add</code> to stage the changes and commit the result.</p><p>To resolve the conflict, we need to edit the file. If you open the file in an editor it will look like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alias gs=&quot;git status&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias gcm=&quot;git checkout main&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias gm=&quot;git merge&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias glog=&quot;git log&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=======</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias glog=&quot;git log --graph --oneline&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt; glog_alias</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Many modern editors will immediately recognise the sequence of symbols that Git uses to indicate conflicts and highlight them. The <code>&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code> line indicates the changes in the current branch, the <code>=======</code> line is a separator, and the <code>&gt;&gt;&gt;&gt;&gt;&gt; glog_alias</code> line indicates that everything since the <code>=======</code> line is the changes in the <em>glog_alias</em> branch.</p><p>We can see why Git has not been able to merge these changes - each branch has a new line and Git doesn&#x27;t know which one is correct. So rather than make an assumption (such as the most recent change should &#x27;win&#x27;), Git is asking us to choose.</p><p>In your editor, update the file to look like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alias gs=&quot;git status&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias gcm=&quot;git checkout main&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias gm=&quot;git merge&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias glog=&quot;git log --graph --oneline&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We have chosen the version of the <code>glog</code> alias that was in the <em>glog_alias</em> branch. But you could choose either - or replace the content with a new line. You can make any changes you like - just be sure to remove the lines that start with <code>&lt;&lt;&lt;</code>, <code>===</code> and <code>&gt;&gt;&gt;</code>. We don&#x27;t even have to use the changes from one of the branches - we could remove the lines or add completely new ones. We change the file to make sure that the merged result makes sense.</p><p>In the example above we deleted one of the <code>glog</code> aliases, but we could have also just changed the name of one of them:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alias gs=&quot;git status&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias gcm=&quot;git checkout main&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias gm=&quot;git merge&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias glog=&quot;git log&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias ggraph=&quot;git log --graph --oneline&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can now use <code>git add</code> to mark the file as resolved, and run <code>git commit</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git add shell.d/git_aliases.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The editor will open showing a sensible commit message:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Merge branch &#x27;glog_alias&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Conflicts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#       shell.d/git_aliases.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># It looks like you may be committing a merge.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># If this is not correct, please run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#       git update-ref -d MERGE_HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># and try again.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Please enter the commit message for your changes. Lines starting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># with &#x27;#&#x27; will be ignored, and an empty message aborts the commit.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># On branch main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The message is just like the earlier merge commit message, but the comments show a little more information (the files that were conflicted). Save the file and close the editor to complete the commit.</p><p>Our Git log will now show this new merge commit:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git log --graph --oneline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*   2532277 (HEAD -&gt; main) Merge branch &#x27;glog_alias&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * a8cbb15 (glog_alias) add the &#x27;glog&#x27; alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* | 31548e4 add the &#x27;glog&#x27; alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*   138b404 Merge branch &#x27;more_aliases&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * a51ae1a (more_aliases) add a file to store &#x27;zsh&#x27; aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * 63ea74f add a file to store &#x27;bash&#x27; aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* | a95bd90 add the &#x27;gm&#x27; alias for &#x27;git merge&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* b9ae0ad (aliases) add alias &#x27;gcm&#x27; for &#x27;git checkout main&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* f61369d add alias &#x27;gs&#x27; for &#x27;git status&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* d7e1bb9 add the &#x27;shell.d&#x27; folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 01e7a10 add the &#x27;install&#x27; and &#x27;shell&#x27; scripts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Dealing with conflicts can be extremely complicated. We have only scratched the surface here, but there is a wealth of information online if you&#x27;d like to go deeper.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-merge-strategies">Other Merge Strategies<a class="hash-link" href="#other-merge-strategies" title="Direct link to heading">​</a></h3><p>Git has a number of merge strategies that can be used to combine the changes across branches. Going into them is beyond the scope of this book. However, it is useful to know that you have a lot of functionality to control how branches are merged available to you if you want to explore further.</p><p>There are merge strategies that allow you to try and create a single, coherent history between two branches, rather than creating a merge commit, there are options to &#x27;squash&#x27; all of the commits from one branch into another and more.</p><p>I would suggest that as you become more familiar with the basics of how Git works, you get a little deeper on this topic - searching online for &quot;Git Merge Strategies&quot; will bring up many articles going into detail.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deleting-and-renaming-files">Deleting and Renaming Files<a class="hash-link" href="#deleting-and-renaming-files" title="Direct link to heading">​</a></h2><p>It is quite simple to remove files from your Git Repository. You can either ask Git to remove the file for you, or just delete the file yourself and then tell Git that you have removed it.</p><p>Let&#x27;s see both ways in action. First we&#x27;ll use the <code>git rm</code> (<em>remove files from the working tree and index</em>) command<!-- -->:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git rm install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm &#x27;install.sh&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>git rm</code> command removes the file from your working tree and stages the deletion. We can see that the file is staged for deletion if we run <code>git status</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes to be committed:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deleted:    install.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The deletion is only in the <em>index</em> at this stage - we need to run <code>git commit</code> to commit the deletion.</p><p>If we want to restore the file, we can use <code>git checkout</code> to get the file back from Git:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout HEAD install.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We use <code>HEAD</code> to tell Git what commit we want to checkout the file from - head means the current commit we are on (which is the most recent commit on <em>main</em>).</p><p>Another common way to delete a file is to simply remove it from the file-system:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ rm install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes not staged for commit:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deleted:    install.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this point Git knows the file is missing, but the deletion is not yet <em>staged</em> - because we haven&#x27;t explicitly told Git that we want to remove this file as part of the commit we are creating. To confirm that we want to remove the file we can use:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git rm install.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We could also run <code>git add install.sh</code> - think of this like saying &#x27;stage my change to <em>index.sh</em>&#x27; - we are <em>adding</em> a change to the <em>index</em>. I often just run <code>git add .</code> to add all of my changes (including deletions) to the stage. At this point we can make any other changes we like, stage them, and then commit.</p><p>Let&#x27;s restore the file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git reset .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Unstaged changes after reset:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D       install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Updated 1 path from the index</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is another way to restore the file - first we reset all of the changes to the index with <code>git reset .</code>, then we checkout all of the files in the current commit with <code>git checkout .</code>. But be careful with this method - it will also reset any other changes you have made. I prefer the <code>git checkout HEAD &lt;file_path&gt;</code> method as it is more explicit and only restores one file.</p><p>What about if we rename a file? Let&#x27;s rename the install file and see what the status is:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mv install.sh install_dotfiles.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes not staged for commit:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deleted:    install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Untracked files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        install_dotfiles.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;ve renamed the file, but when we run <code>git status</code> it is telling us that the file is missing, and there is a new untracked file. But Git is smart enough to know when we move a file - if we run <code>git add .</code> to add all changes in the working tree to the index, Git will recognise that we have not deleted and added a file, but instead renamed it:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes to be committed:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        renamed:    install.sh -&gt; install_dotfiles.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s restore the file by renaming it back to what it was and adding these changes:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mv install_dotfiles.sh install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nothing to commit, working tree clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can also use the <code>git mv</code> (<em>move or rename a file</em>) command<!-- --> to move or rename a file and stage the changes in one go:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git mv install.sh install_dotfiles.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes to be committed:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        renamed:    install.sh -&gt; install_dotfiles.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can also restore the changes by using <code>git mv</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git mv install_dotfiles.sh install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nothing to commit, working tree clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>These commands work equally well with folders, or lists of files and folders.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="restoring-your-working-tree">Restoring Your Working Tree<a class="hash-link" href="#restoring-your-working-tree" title="Direct link to heading">​</a></h2><p>We&#x27;ve already seen how the <code>git checkout</code> command can be used to switch branches. We can also use the <code>git checkout</code> command to restore our working tree to a certain point in our commit history. This is extremely useful if you want to see how your files looked at an earlier point in time, or restore your files to a previous state.</p><p>Let&#x27;s take a quick look at our Git log so far.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git log --graph --oneline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*   2532277 (HEAD -&gt; main) Merge branch &#x27;glog_alias&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * a8cbb15 (glog_alias) add the &#x27;glog&#x27; alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* | 31548e4 add the &#x27;glog&#x27; alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*   138b404 Merge branch &#x27;more_aliases&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * a51ae1a (more_aliases) add a file to store &#x27;zsh&#x27; aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * 63ea74f add a file to store &#x27;bash&#x27; aliases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* | a95bd90 add the &#x27;gm&#x27; alias for &#x27;git merge&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* b9ae0ad (aliases) add alias &#x27;gcm&#x27; for &#x27;git checkout main&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* f61369d add alias &#x27;gs&#x27; for &#x27;git status&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* d7e1bb9 add the &#x27;shell.d&#x27; folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 01e7a10 add the &#x27;install&#x27; and &#x27;shell&#x27; scripts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Git log is showing the first seven digits of the SHA for each commit. We can checkout any commit by providing its SHA. We don&#x27;t need to provide the entire SHA (which is good, because they are normally quite long), we only need to provide enough letters to uniquely identify the commit, so normally four or five digits is plenty.</p><p>Notice that the most recent commit is marked with the text <code>HEAD</code>. The <em>HEAD</em> is where Git is currently &#x27;pointing&#x27; to - we will see how to move the head shortly (the term <em>HEAD</em> also refers to the most recent commit of a branch).</p><p>At the moment we can visualise our Git log, with the commits, branches and HEAD like so:</p><p><img loading="lazy" alt="Diagram showing our Git log with HEAD indicated" src="/assets/images/git-log-showing-head-5a0e2000cb1a17a77297bbb98dd64a12.png" width="2992" height="854" class="img_ev3q"></p><p>We can restore the working tree to the state of any of the commits by running <code>git checkout &lt;commit_sha&gt;</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout f61369d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Note: switching to &#x27;f61369d&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">changes and commit them, and you can discard any commits you make in this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state without impacting any branches by switching back to a branch.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This snippet moved our HEAD to the third commit in our repository. If you look at the files in your working tree you&#x27;ll see that they are in exact state that they were when we made our third commit. Visually, we have moved the HEAD as shown below:</p><p><img loading="lazy" alt="Diagram showing a detached HEAD" src="/assets/images/git-checkout-detached-head-1a94781840cf8e5c7a4fb3fd4b59ce1b.png" width="2486" height="742" class="img_ev3q"></p><p>The warning that says we are in a &#x27;detached HEAD&#x27; state is telling us that our current position in the history is not at the &#x27;tip&#x27; of a branch - this means we cannot create a new commit without first starting a new branch.</p><p>If we want to move back to the &#x27;tip&#x27; of our main branch (or any other branch), we can use <code>git checkout &lt;branch_name&gt;</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This moves us back to the &#x27;tip&#x27; of the main branch.</p><p>Git has a very convenient syntax we can use to move backwards. We can specify a branch name, a SHA or &#x27;HEAD&#x27;, use a <code>~</code> tilde character, and then provide the number of commits we want to move &#x27;backwards&#x27;:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout HEAD~1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command moves the &#x27;head&#x27; backwards one commit. This is useful if you realise you have made a mistake with your commit or recent commits and want to go backwards.</p><p>Remember - whenever you run <code>git checkout &lt;branch_name&gt;</code> Git moves the HEAD to the tip of the branch by default.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">​</a></h2><p>In this chapter we looked at some of the core concepts behind Git - the repository, the working tree and the index. We saw how to stage and unstage changes, commit changes, create branches, merge branches, deal with conflicts and remove and rename files.</p><p>In the next chapter we will look at how to work with &#x27;remote&#x27; repositories - this will allow us to push our changes up to a location on the internet and share these changes with other users, or to download these changes to other machines we might work on.</p><p>We&#x27;ve introduced a lot of commands in this chapter - you can use this table as a quick reference:</p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>git init</code></td><td>Initialise a new Git Repository.</td></tr><tr><td><code>git status</code></td><td>Show the status of the working tree and index.</td></tr><tr><td><code>git add &lt;files&gt;</code></td><td>Stage <code>files</code> - you can use patterns and wildcards.</td></tr><tr><td><code>git reset &lt;files&gt;</code></td><td>Unstage <code>files</code> - you can use patterns and wildcards.</td></tr><tr><td><code>git rm --cached &lt;files&gt;</code></td><td>Unstage <code>files</code> - you can use patterns and wildcards.</td></tr><tr><td><code>git commit</code></td><td>Create a commit from the current index - the shell editor will open for the commit message.</td></tr><tr><td><code>git commit -m &#x27;message&#x27;</code></td><td>Create a commit with message <code>message</code>.</td></tr><tr><td><code>git commit -a</code></td><td>Stage and commit all changes in the working tree.</td></tr><tr><td><code>git checkout &lt;branch&gt;</code></td><td>Checkout a branch called <code>branch</code>.</td></tr><tr><td><code>git checkout -b branch</code></td><td>Create and checkout a new branch called <code>branch</code>.</td></tr><tr><td><code>git branch &lt;name&gt;</code></td><td>Create a branch called <code>name</code> but do not check it out.</td></tr><tr><td><code>git branch -m &lt;new_name&gt;</code></td><td>Change the current branch name to <code>new_name</code>.</td></tr><tr><td><code>git merge &lt;branch&gt;</code></td><td>Merge the branch named <code>branch</code> into the current branch.</td></tr><tr><td><code>git log</code></td><td>Show the log of commits.</td></tr><tr><td><code>git log --oneline --branch</code></td><td>Show the log of commits, one line per commit, with the branch graph.</td></tr><tr><td><code>git rm &lt;files&gt;</code></td><td>Stage the removal of <code>files</code> from the repostiry - you can use patterns and wildcards.</td></tr><tr><td><code>git mv &lt;source&gt; &lt;destination&gt;</code></td><td>Stage the movement of <code>source</code> to <code>destination</code>.</td></tr><tr><td><code>git checkout 8342bec</code></td><td>Checkout a commit with SHA <code>834bec</code>.</td></tr><tr><td><code>git checkout HEAD~1</code></td><td>Move the current HEAD back one commit.</td></tr><tr><td><code>git checkout &lt;branch&gt;~3</code></td><td>Checkout <code>branch</code>, move back three commits from the tip.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dwmkerr/effective-shell/edit/main/docs/05-building-your-toolkit/27-controlling-changes-with-git/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/part-5-building-your-toolkit/managing-your-dotfiles"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Managing your Dotfiles</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/part-5-building-your-toolkit/managing-rempte-git-repositories/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Managing Remote Git Repositories and Sharing Your Dotfiles</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-git" class="table-of-contents__link toc-highlight">What is Git</a></li><li><a href="#creating-a-git-repository" class="table-of-contents__link toc-highlight">Creating a Git Repository</a></li><li><a href="#adding-and-resetting-changes-to-the-index" class="table-of-contents__link toc-highlight">Adding and Resetting Changes to the Index</a></li><li><a href="#committing-changes" class="table-of-contents__link toc-highlight">Committing Changes</a><ul><li><a href="#commit-messages" class="table-of-contents__link toc-highlight">Commit Messages</a></li></ul></li><li><a href="#creating-branches" class="table-of-contents__link toc-highlight">Creating Branches</a></li><li><a href="#merging" class="table-of-contents__link toc-highlight">Merging</a><ul><li><a href="#merging-diverged-branches" class="table-of-contents__link toc-highlight">Merging Diverged Branches</a></li><li><a href="#the-git-log" class="table-of-contents__link toc-highlight">The Git Log</a></li><li><a href="#merge-conflicts" class="table-of-contents__link toc-highlight">Merge Conflicts</a></li><li><a href="#other-merge-strategies" class="table-of-contents__link toc-highlight">Other Merge Strategies</a></li></ul></li><li><a href="#deleting-and-renaming-files" class="table-of-contents__link toc-highlight">Deleting and Renaming Files</a></li><li><a href="#restoring-your-working-tree" class="table-of-contents__link toc-highlight">Restoring Your Working Tree</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Effective Shell</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/shell-snippets/">Snippets</a></li><li class="footer__item"><a href="https://amzn.to/4ho0F91" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Buy the Book on Amazon!<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sponsors/dwmkerr?frequency=one-time&amp;sponsor=dwmkerr" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Buy me a Coffee!<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Other Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/dwmkerr/terminal-ai" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Terminal AI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://hacker-laws.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Hacker Laws<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/dwmkerr/effective-shell" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dwmkerr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Effective Shell v0.43.0. Copyright © 2025 Dave Kerr. Website built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.56e132cf.js"></script>
<script src="/assets/js/main.e1868e6f.js"></script>
</body>
</html>