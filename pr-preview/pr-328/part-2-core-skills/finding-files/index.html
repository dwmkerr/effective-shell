<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-core-skills/finding-files/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Finding Files | Effective Shell</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://effective-shell.com/part-2-core-skills/finding-files"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="ca-pub-6181461532532600"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Finding Files | Effective Shell"><meta data-rh="true" name="description" content="Searching through a system to find files or folders can be complex and time consuming, even with a graphical user interface. In this chapter we&#x27;ll look at how to use the shell to search for files and folders and some quick ways to accomplish common tasks."><meta data-rh="true" property="og:description" content="Searching through a system to find files or folders can be complex and time consuming, even with a graphical user interface. In this chapter we&#x27;ll look at how to use the shell to search for files and folders and some quick ways to accomplish common tasks."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://effective-shell.com/part-2-core-skills/finding-files"><link data-rh="true" rel="alternate" href="https://effective-shell.com/part-2-core-skills/finding-files" hreflang="en"><link data-rh="true" rel="alternate" href="https://effective-shell.com/part-2-core-skills/finding-files" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HZFMZV9Z4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8HZFMZV9Z4",{anonymize_ip:!0})</script>


<script src="https://cdn.jsdelivr.net/npm/docusaurus-plugin-drawio/viewer.min.js"></script>


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6181461532532600" async></script>
<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6181461532532600" async></script><link rel="stylesheet" href="/assets/css/styles.51892cac.css">
<link rel="preload" href="/assets/js/runtime~main.b7ae31cf.js" as="script">
<link rel="preload" href="/assets/js/main.230a45cf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Effective Shell Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Effective Shell Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Effective Shell</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="navbar__item navbar__link" href="/donate">Donate</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div><a href="https://github.com/dwmkerr/effective-shell/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-1-transitioning-to-the-shell/">Transitioning to the Shell</a><button aria-label="Toggle the collapsible sidebar category &#x27;Transitioning to the Shell&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/part-2-core-skill/">Core Skills</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core Skills&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/thinking-in-pipelines/">Thinking in Pipelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/fly-on-the-command-line">Fly on the Command Line</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/job-control">Job Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/understanding-commands">Understanding Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/part-2-core-skills/finding-files">Finding Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/part-2-core-skills/what-is-a-shell">What is a Shell?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-3-manipulating-text/">Manipulating Text and Streams</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manipulating Text and Streams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-4-shell-scripting/">Shell Scripting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Shell Scripting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-5-building-your-toolkit/">Building Your Toolkit</a><button aria-label="Toggle the collapsible sidebar category &#x27;Building Your Toolkit&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/part-6-advanced-techniques/">Advanced Techniques</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced Techniques&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/xx-appendices/installing-samples/">Appendices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zz-developer-guide/components">Developer Guide</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Finding Files</h1></header><p>Searching through a system to find files or folders can be complex and time consuming, even with a graphical user interface. In this chapter we&#x27;ll look at how to use the shell to search for files and folders and some quick ways to accomplish common tasks.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introducing-the-find-command">Introducing the Find Command<a class="hash-link" href="#introducing-the-find-command" title="Direct link to heading">​</a></h2><p>The <code>find</code> (search for files) command is used to search for files and folders and to perform operations on the results. Let&#x27;s see it in action by running it in the <code>~/effective-shell</code> folder.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Downloading the Samples</div><div class="admonitionContent_S0QG"><p>Run the following command in your shell to download the samples:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> effective.sh </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><p>Let&#x27;s set the current working directory to the <code>effective-shell</code> folder and run the <code>find</code> command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cd ~/effective-shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ find</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./text/simpsons-characters.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./scripts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./scripts/show-info.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/styles.css</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/code.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By default, <code>find</code> will list all of the files and folders which are present in the current working directory. It will also show the <em>children</em> of any folders it finds, meaning that it shows the full hierarchy of files and folders.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Find not working on MacOS</div><div class="admonitionContent_S0QG"><p>If you are running these samples on MacOS, you will probably see the following output:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is the <code>find</code> command telling you what parameters can be used. On MacOS the default <code>find</code> command does <em>not</em> assume the current working directory.</p><p>This is because there is a difference between the MacOS and GNU versions of <code>find</code> and in this book I will use GNU wherever possible as it will be more compatible (MacOS is based on the BSD operating system, most Linux distributions use a set of tools which are part of the GNU project - there are sometimes differences).</p><p>To run the equivalent command on MacOS, just provide the current directory as a parameter:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A better solution is to install the <code>findtools</code> package, which will install the GNU versions of the tools we&#x27;ll be using:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ brew install findtools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ gfind</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you do install <code>findtools</code>, remember that all of the GNU versions of the tools start with <code>g</code> - so when reading this chapter substitute <code>find</code> with <code>gfind</code>.</p><p>For more details on what BSD and GNU are, you can check <a href="/work-in-progress">Chapter - Unix, Linux, GNU and POSIX</a>, which covers these concepts in detail.</p></div></div><p>So this is the <code>find</code> command - you can provide it a directory (or let it use the current directory) and the command will list all of files and folders in the given directory, including all children.</p><p>You can also provide multiple directories:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find /usr/bin /usr/sbin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/fwupdtool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/gnome-keyring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/sbin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/sbin/cupsd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/sbin/pppdump</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is the most basic use of <code>find</code> - showing a file and folder hierarchy. Now let&#x27;s look at how to search using this command.</p><h1>Searching with Find</h1><p>Perhaps the most common use for <code>find</code> is to search for files. There are a number of options which can be used to filter the results shown, which allow us to search for files. Let&#x27;s look at some common ways to refine our searches, using the <code>~/effective-shell</code> folder as a playground to search in.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="searching-for-files-or-folders-only">Searching for Files or Folders only<a class="hash-link" href="#searching-for-files-or-folders-only" title="Direct link to heading">​</a></h2><p>The <code>-type</code> parameter can be used to search either for files or folders. Let&#x27;s see both in action. First, we&#x27;ll search for files only, using <code>-type f</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -type f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./text/simpsons-characters.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./scripts/show-info.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/styles.css</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/code.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And for folders, using <code>-type d</code> (remember, <code>d</code> is for directory!):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -type d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./scripts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It&#x27;s important to note that when searching for folders, the <code>find</code> command shows folders which are normally hidden, such as the special &#x27;dot&#x27; folder<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.</p><p>In both commands, I specified the &#x27;dot&#x27; folder as the place to search. I could omit this parameter; I just think it makes it a little more readable.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="searching-by-name">Searching by Name<a class="hash-link" href="#searching-by-name" title="Direct link to heading">​</a></h2><p>We can use the <code>-name</code> parameter to search for files and folders by name. For example, this is how we would search for anything with the letters <code>log</code> in the name:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name &quot;*log*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/web-server-logs.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm05.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm02.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm03.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm00.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm01.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm04.logs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can see I&#x27;ve used a <code>*</code> wildcard before and after the letters <code>log</code> - this means that I have actually supplied a <em>pattern</em>, which could be read as &#x27;any characters (including nothing), followed by the characters <code>log</code>, followed by any other characters (including no characters)&#x27;.</p><p>If I don&#x27;t use a wildcard, the <code>logs</code> folder will not be found - because it doesn&#x27;t match the <em>pattern</em> <code>log</code> - without using a wildcard, the pattern is explicitly looking for an <em>exact</em> match:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name &quot;log&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note the output - no files or folders were found, as none have the <em>exact</em> name <code>log</code>. The <code>-name</code> parameter is very specific - it will only match files or folders with the <em>name</em> provided. Here&#x27;s an example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name &quot;apm00.logs&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm00.logs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here I have used <code>-name</code> to search for an <em>exact</em> name. What about if I search for <code>apm-logs</code>?</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name &quot;apm-logs&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <em>folder</em> named <code>apm-logs</code> is found, but not the <em>files</em> in the folder - the names of those files don&#x27;t match the pattern <code>apm-logs</code>. What if we make it a wildcard pattern?</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name &quot;*apm-logs*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The same results! This is because for the <em>files</em> in the <code>apm-logs</code> folder they don&#x27;t have <code>apm-logs</code> in their name anywhere - that is in their <em>path</em>, i.e. the full address of the file including its folder. So let&#x27;s look at how to search by path next!</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>An Important Note on Quotes</div><div class="admonitionContent_S0QG"><p>Make sure you use quotes when building your patterns. This command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name &quot;*log*&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Will give different output to this command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name *log*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Why is this? In the first case, we explicitly pass the text <code>*log*</code> to the <code>find</code> command and let it deal with it. It uses the wildcards to build a pattern. Because we&#x27;ve surrounded the parameter with quotes, the shell itself doesn&#x27;t try to do anything clever with the wildcard.</p><p>In the second case, <em>the shell itself</em> tries to deal with the wildcards, then passes the results to <code>find</code>. And the shell deals with them differently. You can see exactly what the shell expands them to with this snippet:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ parameter=(*log*)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ echo $parameter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the second case the shell is performing its own expansion of the wildcard and not searching through all of the child directories. We need to wrap the parameter with quotes so that the shell knows <em>not</em> to interfere with the text and instead pass it to <code>find</code>, so that find can deal with the wildcard.</p><p>The shell is using <em>globbing</em> in the second case, which is covered in a later chapter.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="searching-by-path">Searching by Path<a class="hash-link" href="#searching-by-path" title="Direct link to heading">​</a></h2><p>The <code>-path</code> parameter can be used to filter the results based on a pattern in the <em>path</em> of the file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -path &quot;*apm-logs*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm05.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm02.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm03.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm00.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm01.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm04.logs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Again, note that this is very specific, we&#x27;ve added wildcards to the pattern, making it <code>*apm-logs*</code>. Without the wildcards we would find nothing, because none of the results have the <em>exact</em> path <code>apm-logs</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="combining-searches---the-and-and-or-operators">Combining Searches - the AND and OR operators<a class="hash-link" href="#combining-searches---the-and-and-or-operators" title="Direct link to heading">​</a></h2><p>We can provide multiple search options. For example, if we want to search <em>only</em> for files which end in <code>.logs</code>, we can do this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -type f -name &quot;*.logs&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm05.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm02.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm03.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm00.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm01.logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./logs/apm-logs/apm04.logs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By using both the <code>-type</code> and <code>-name</code> parameters, we&#x27;ve created an &#x27;AND&#x27; style search - i.e. we&#x27;re looking for items which match <em>both</em> of the given criteria.</p><p>What if we want to perform a search which returns items which match <em>either</em> of the patterns (i.e an &#x27;OR&#x27; search)? For that we can use the <code>-or</code> parameter:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name &quot;*.js&quot; -or -name &quot;*.html&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/code.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./programs/web-server/web-server.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this case we show results which match either of the expressions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="case-insensitive-searches">Case Insensitive Searches<a class="hash-link" href="#case-insensitive-searches" title="Direct link to heading">​</a></h2><p>Any one of the search parameters you&#x27;ve seen so far can be made case-insensitive by putting the letter <code>i</code> before the parameter name.</p><p>This means that the following commands are identical:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -name &quot;*.js&quot; -or -name &quot;*.Js&quot; -or -name &quot;*.jS&quot; -or name &quot;*.JS&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . -iname &quot;*.js&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>I know which one I&#x27;d rather type! You can use <code>-iname</code> for case-insensitive name searches, or <code>-ipath</code> for case-insensitive path searches.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="grouping-and-the-not-operator">Grouping and the NOT operator<a class="hash-link" href="#grouping-and-the-not-operator" title="Direct link to heading">​</a></h2><p>We can build more complex expressions by grouping together patterns using brackets, or by using the <code>-not</code> pattern. Here&#x27;s an example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find . \( -name &quot;*.js&quot; -or -name &quot;*.html&quot; \) -and -not -path &quot;*programs*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./websites/simple/code.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first section groups together two expressions, meaning &quot;files with names which match <code>*.js</code> or <code>*.html</code>, the second section then says &quot;and also the text <code>programs</code> must not be in the path&quot;.</p><p>The only annoying thing about grouping is that you must <em>escape</em> the brackets, by putting a <code>\</code> backslash before them, as brackets have a special meaning in the shell and we&#x27;re telling the shell not to do anything smart with them but instead pass them to the <code>find</code> command.</p><h1>Why the Weird Parameters?</h1><p>The <code>find</code> command bothered me for years. The parameters looked odd - for example why is it <code>-name</code> instead of <code>-n</code> or <code>--name</code>, which would be more standard<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>?</p><p>Also, why is it that I cannot type this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find -name &quot;something.txt&quot; /home/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>But instead have to put the folder name <em>before</em> the parameters, which again is non-standard?</p><p>The reason is actually quite simple - most of what we&#x27;ve seen so far are not parameters in the normal sense, they&#x27;re just elements of a <em>search expression</em>.</p><p>The structure of the <code>find</code> command is as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find &lt;options&gt; [starting point...] [expression]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The options (or parameters) for the <code>find</code> command <em>are</em> short, one-letter options which go before the file name. The <code>-L</code> (<em>follow links</em>) option is an example - it goes before the starting point of the search:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find -L /usr/bin -name &quot;*sh&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All of the other things we&#x27;ve seen so far which we&#x27;ve described as parameters are actually used to build the <em>expression</em> - the actual search pattern.</p><p>The <code>-name</code>, <code>-and</code>, <code>-or</code>, <code>-ipath</code> and similar constructs we&#x27;ve looked at are actually part of a mini &#x27;search language&#x27;, they&#x27;re not parameters to the command.</p><p>This might seem obvious, or it might seem silly, but either way, remembering that the structure of the <code>find</code> command is <code>find &lt;options&gt; [starting points...] [expression]</code> may help you remember what order to write each part of the command in.</p><p>It certainly took a few years for me to realise this was the reason, and until that point I used to get frustrated with <code>find</code> as I could never seem to remember how to use it properly! Once the structure of the command clicked it became far easier to quickly use the command in day-to-day work.</p><p>You can find details on this in the manpage for find, open it with <code>man find</code>.</p><h1>Performing Actions on Search Results</h1><p>A lot of the time you are not just going to be searching for a file or folder - you&#x27;ll be searching so that you can do something with what you find. It might be to delete, copy, edit, move or whatever.</p><p>The <code>find</code> command can perform operations on the files which are found.</p><p>Now before we continue, I&#x27;ll warn that I&#x27;m <em>not</em> going to go into much detail here. The reason is that I actually recommend not using these operations. Instead, use the <code>xargs</code> command which is covered in <a href="/work-in-progress">Chapter 14 - Build Commands on the Fly with Xargs</a>. The Xargs command lets you take the list of files from <code>find</code> and create any command you can think of. I think this is far more sensible than trying to learn all of the options for <code>find</code> - and it is closer to the Unix Philosophy of having the <code>find</code> command &#x27;do one thing and do it well&#x27;.</p><p>However, you&#x27;ll see these operations in other books and articles, or perhaps in scripts you have to work with, so let&#x27;s take a quick look at some of the common operations and how they are used. Just remember that later on we&#x27;ll see a more flexible (and easier to remember!) way of operating on the files we&#x27;ve found!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="printing-paths">Printing Paths<a class="hash-link" href="#printing-paths" title="Direct link to heading">​</a></h2><p>The <code>-print</code> action is the default action and doesn&#x27;t need to be explicitly specified. But if you feel it makes your scripts or code more readable, you can always include it, and it gives us a way to show the syntax for actions.</p><p>Here&#x27;s how we&#x27;d find all files in the user&#x27;s home directory with the ending <code>.tmp</code> and show their path:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find ~ -name &quot;*.tmp&quot; -print</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/home/dwmkerr/commands1.tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/home/dwmkerr/commands2.tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/home/dwmkerr/commands3.tmp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You are unlikely to need to use <code>-print</code> - but it will come in handy to know it exists later on when we look at the <code>-print0</code> option (we&#x27;ll see this in Chapter 14). Let&#x27;s look at the other actions we can perform.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deleting-files">Deleting Files<a class="hash-link" href="#deleting-files" title="Direct link to heading">​</a></h2><p>We can delete the files and folders found by using the <code>-delete</code> action:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find ~ -name &quot;*.tmp&quot; -delete</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This <em>can</em> be a convenient way to delete files, but I would recommend <em>extreme caution</em>. This command does not show what has been deleted and does not ask for confirmation. It also slightly changes the order of results processed so that the <em>children</em> of folders are deleted where necessary before the folders themselves. This might not be what you expect because that&#x27;s not what the <code>-print</code> output would show (although you can force this behaviour with the <code>-depth</code> option).</p><p>Check Chapter 14 for a better solution - in short we can use <code>find ~ -name &quot;*.tmp&quot; -print0 | xargs -p -0 rm</code> to instead pass the files to <code>rm</code> and ask the user to confirm before the deletion happens. This will be explained in a lot more detail in Chapter 14.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="execute-a-command">Execute a Command<a class="hash-link" href="#execute-a-command" title="Direct link to heading">​</a></h2><p>You can use the <code>-exec</code> action to execute an arbitrary command. Use the special characters <code>{}</code> as a placeholder for the filename.</p><p>Here&#x27;s an example - we&#x27;ll find all text files and count the number of words in each one:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find ~/effective-shell -name &quot;*.txt&quot; -exec wc -w {} \;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">29 /home/parallels/effective-shell/text/simpsons-characters.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20 /home/parallels/effective-shell/quotes/iain-banks.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">16 /home/parallels/effective-shell/quotes/ursula-le-guin.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10373 /home/parallels/effective-shell/logs/web-server-logs.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We use <code>-exec</code> to tell <code>find</code> we want to execute a command. Then we use <code>wc -w {}</code> to say &quot;call the <code>wc</code> (word count) command with the <code>-w</code> (words) flag. The <code>{}</code> text is expanded to the list of files. Finally, we need a semi-colon to tell <code>find</code> where the <em>end</em> of the <code>exec</code> command is. And because the semi-colon has a special meaning in the shell, we have to <em>escape</em> this semi-colon by putting a <code>\</code> backslash before it.</p><p>The <code>-exec</code> action is very powerful - we can construct almost any arbitrary command with it, which can be really useful. But remember we&#x27;ll see what I think is a more flexible way to build commands a little later.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="execute-a-command-with-a-confirmation">Execute a Command with a Confirmation<a class="hash-link" href="#execute-a-command-with-a-confirmation" title="Direct link to heading">​</a></h2><p>Now if there is one action to learn, it is the <code>-ok</code> action, which works just like <code>-exec</code>, but asks the user for a confirmation first. Here&#x27;s how it might look if I use it to try and delete all files which end in <code>*.txt</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find ~/effective-shell -name &quot;*.txt&quot; -ok rm {} \;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; rm ... /home/parallels/effective-shell/text/simpsons-characters.txt &gt; ? n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; rm ... /home/parallels/effective-shell/quotes/iain-banks.txt &gt; ? n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; rm ... /home/parallels/effective-shell/quotes/ursula-le-guin.txt &gt; ? n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt; rm ... /home/parallels/effective-shell/logs/web-server-logs.txt &gt; ? n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that each operation which will be performed is first printed, then I am asked for confirmation before the operation runs. In each case I&#x27;ve typed <code>n</code> (for &#x27;no&#x27;). Type <code>y</code> (for &#x27;yes&#x27;) if you want to run the command.</p><h1>Handling Symlinks</h1><p>It is worth briefly mentioning symlinks - because if you don&#x27;t understand how <code>find</code> handles symlinks then you might be surprised.</p><p>As an example of how this might surprise you, compare the output of the two commands below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find /usr/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/uux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/cpan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/BuildStrings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/loads.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/write</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ find /bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It seems that <code>/bin</code> doesn&#x27;t contain any files - but is that the case? Running <code>ls /bin</code> will probably show that you have quite a few files. If you are on MacOS instead try running <code>find /tmp</code> to show the same oddity - the <code>find</code> program doesn&#x27;t seem to show the contents of the files.</p><p>So why did <code>find /bin</code> not show the files in the <code>/bin</code> folder?</p><p>The answer is that <code>/bin</code> is a symlink (or if you are on MacOS and want to test the same behaviour and are using <code>/tmp</code>, <code>/tmp</code> is a symlink). You can see this by running the command below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ls -l / /usr | grep bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lrwxrwxrwx   1 root root          7 Aug  7 18:06 bin -&gt; usr/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lrwxrwxrwx   1 root root          8 Aug  7 18:06 sbin -&gt; usr/sbin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x   2 root root 40960 Jan 25 17:17 bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x   2 root root 20480 Jan 25 16:42 sbin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note how the root <code>bin</code> and <code>sbin</code> folders are actually just symlinks to <code>usr/bin</code> and <code>usr/sbin</code> respectively.</p><p>When using the <code>find</code> command just remember that it won&#x27;t follow symlinks by default - provide the <code>-L</code> option to follow symlinks:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ find -L /bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/fwupdtool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/gnome-keyring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/dpkg-gencontrol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/prltoolsd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are more options which control how <code>find</code> works with links, check <code>man find</code> for the details.</p><h1>Scratching the Surface</h1><p>The <code>find</code> command is <em>incredibly</em> powerful. To go into detail on all of the options or potential ways these options can be combined to create operations could fill an entire book!</p><p>My recommendation is to ensure that you know at least the basics we&#x27;ve shown so far. But just as a hint of what can be done with <code>find</code>, which might make you want to learn more, here are a few commands which show just how versatile it can be!</p><p><strong>Find large files</strong></p><p>The <code>-size</code> test can be used to search by file size - note how with a <code>+</code> and <code>-</code> we can set the minimum and maximum sizes:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find / -size +1G -500G</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Find recently edited files</strong></p><p>The <code>-mtime</code> test can be used to find files which were recently modified:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find . -not -path &quot;*/\.*&quot; -mtime -2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note how a <code>-not -path</code> test is used to skip anything which starts with a <code>.</code> dot (i.e files and folders which are normally considered hidden).</p><p><strong>Find files which have had permissions changed</strong></p><p>The <code>-ctime</code> test can be used to find files which have had their attributes (such as permissions) changed:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find ~/.ssh -ctime -30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Find any executable scripts and make them non-executable</strong></p><p>We can search by permissions, as shown below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find ~ -perm /a=x -exec chmod -x {} +</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This example uses the <code>-perm</code> test, checking if &#x27;all&#x27; (users, the owner and group) have the <code>x</code> (executable) bit set, then executes the <code>chmod -x</code> command to remove the executable bit. We also end the command with <code>+</code> rather than <code>;</code>, which means we will execute <code>chmod</code> once with each file passed to the command (rather than running <code>chmod</code> for <em>each</em> file). Note that the <code>+</code> operator can cause an error if the list of files is too big for the command you pass it to to handle!</p><p><strong>Find empty folders and remove them with a confirmation</strong></p><p>We can use the <code>-empty</code> test to find empty folders:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find ~ -type d -maxdepth 3 -empty -ok rmdir {} \;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This example uses the <code>-empty</code> test, as well as the <code>-maxdepth</code> parameter to limit the search to only three folders deep.</p><p>These examples just scratch the surface of what <code>find</code> can do. The goal of this chapter is not to have an exhaustive description of the <code>find</code> command, but equip you with the essentials. When you feel comfortable with the essentials you can then build on your knowledge of <code>find</code>.</p><h1>Summary</h1><p>In this chapter we introduced the <code>find</code> command, an incredibly powerful tool that lets us search for files and folders using simple or complex expressions. It also allows us to perform actions on the search results.</p><p>In the next chapter we&#x27;ll take a look in a bit more detail into what a shell actually is!</p><hr><p>Share - with &quot;why the hell are the parameters so stupid&quot;
Blog post on linux essentials, refer to alpine for an example of why find is important
Test work in progress page</p><p><strong>Footnotes</strong></p><div class="footnotes"><hr><ol><li id="fn-1">If you are not sure what the &#x27;dot&#x27; folder is, check <a href="https://effective-shell.com/docs/part-1-transitioning-to-the-shell/2-navigating-your-system/" target="_blank" rel="noopener noreferrer">Chapter 2 - Navigating Your System</a><a href="#fnref-1" class="footnote-backref">↩</a></li><li id="fn-2">This is not just a personal preference thing; this is based on the POSIX standard: <a href="https://www.gnu.org/software/libc/manual/html_node/Argument-Syntax.html" target="_blank" rel="noopener noreferrer">https://www.gnu.org/software/libc/manual/html_node/Argument-Syntax.html</a> which recommends a specific set of patterns to make commands consistent and intuitive for user.<a href="#fnref-2" class="footnote-backref">↩</a></li></ol></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dwmkerr/effective-shell/edit/main/docs/02-core-skills/11-finding-files/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/part-2-core-skills/understanding-commands"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Understanding Commands</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/part-2-core-skills/what-is-a-shell"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">What is a Shell?</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introducing-the-find-command" class="table-of-contents__link toc-highlight">Introducing the Find Command</a></li><li><a href="#searching-for-files-or-folders-only" class="table-of-contents__link toc-highlight">Searching for Files or Folders only</a></li><li><a href="#searching-by-name" class="table-of-contents__link toc-highlight">Searching by Name</a></li><li><a href="#searching-by-path" class="table-of-contents__link toc-highlight">Searching by Path</a></li><li><a href="#combining-searches---the-and-and-or-operators" class="table-of-contents__link toc-highlight">Combining Searches - the AND and OR operators</a></li><li><a href="#case-insensitive-searches" class="table-of-contents__link toc-highlight">Case Insensitive Searches</a></li><li><a href="#grouping-and-the-not-operator" class="table-of-contents__link toc-highlight">Grouping and the NOT operator</a></li><li><a href="#printing-paths" class="table-of-contents__link toc-highlight">Printing Paths</a></li><li><a href="#deleting-files" class="table-of-contents__link toc-highlight">Deleting Files</a></li><li><a href="#execute-a-command" class="table-of-contents__link toc-highlight">Execute a Command</a></li><li><a href="#execute-a-command-with-a-confirmation" class="table-of-contents__link toc-highlight">Execute a Command with a Confirmation</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Effective Shell</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/donate">Donate</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/dwmkerr/effective-shell" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dwmkerr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Effective Shell v0.34.1. Copyright © 2024 Dave Kerr. Website built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b7ae31cf.js"></script>
<script src="/assets/js/main.230a45cf.js"></script>
</body>
</html>